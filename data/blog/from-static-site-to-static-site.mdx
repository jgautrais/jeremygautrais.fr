---
title: 'From static site to static site'
publishedAt: '2017-07-15'
summary: 'Learn about the tech stack I use for this blog: Next.js, Tailwind, i18n.'
image: '/static/images/from-static-site-to-static-site/banner.jpeg'
---

<Image
  alt={`Next.js + Tailwind`}
  src={`/static/images/from-static-site-to-static-site/banner.jpeg`}
  width={1400 / 2}
  height={787 / 2}
  priority
  className='rounded-lg'
/>

In the past few weeks, I have updated my website from plain HTML, CSS + JavaScript to using a static site generator, [Next.js](https://nextjs.org/). On the outside, the result is pretty much the same, but a lot has changed under the hood. My main reasons for choosing a static site generator (SSG) were the following:

- **Learning**: I wanted to learn how SSG works and keep practicing with a JavaScript framework (React).
- **Scalability and maintainability**: My portfolio was starting to become a HTML labyrinth with never-ending pages, in which retrieving information became more and more difficult. Using a framework make it easier to organize code and site content.
- **Blogging**: I wanted to start a blog and have a more robust way of storing blog's data than putting it in HMTL raw content. With mu current setup, each blog post is stored in markup language, and pre-rendered into HTML at build time.
- **Performance**: Since pages are pre-rendered at build time, when a server request a file, the file is immediately returned without any processing. I can enjoy all the benefits from using React and Next.js development tools and still generate blazing fast static pages.

## Why choosing Next.js ?

For such a small-scale project, all tech stacks could have been used. I have recently started a coding bootcamp at [Wild Code School](https://www.wildcodeschool.com/en-GB/courses/web-development-course-full-time/lyon) in Lyon and I am following there the PHP/Symfony track. Although I have learned React before, I wanted to keep practicing with this framework as it is the most popular on french market.

I also wanted to use specifically a static site generator, as all my content comes from static sources, all pages can be rendered at build time and served directly at each request, for improved performance.

My project to setup a personal blog was the perfect use case for me to practice with React and a static site generator. I choosed Next.js specifically, [among others](https://jamstack.org/generators/), since I had already started to deploy my static portfolio with Vercel, the team behind Next.js.

## Tailwind

My website is an opportunity to try new tools and, while transitioning to Next.js, I decided to try a new CSS framework: [Tailwind CSS](https://tailwindcss.com/). There was a slight learning curve as I tried to translate my CSS ideas into Tailwind specific class naming. But, generally speaking, I really enjoyed working with Tailwind, the documentation is clear and easy to navigate.

Dark mode is also easily set up, just enable the [darkMode option](https://tailwindcss.com/docs/dark-mode) in tailwind.config.js. I wanted to include a dark mode toggle so I used [next-themes](https://github.com/pacocoursey/next-themes) library for this. Tailwind is paired easily with next-themes although I had some difficulty to make next-themes use a `class` attribute on html element to store data about light/dark theme instead `data-theme` attribute until I come across the relevant [documentation](https://github.com/pacocoursey/next-themes#class-instead-of-data-attribute). In the end, the inclusion of Tailwind is pretty straightforward, just include the following in your `_app.js` file:

```js
import { ThemeProvider } from 'next-themes';

function MyApp({ Component, pageProps }) {
  return (
    <ThemeProvider attribute='class' defaultTheme='system'>
      <Component {...pageProps} />
    </ThemeProvider>
  );
}
```

## Translations

Most of the content of my website is written in English, also, being born in France, I decide to provide translation for my homepage only. For this I am using i18n module, and more specifically [next-translate](https://github.com/vinissimus/next-translate) library. The translations are easily set up following documentation. I also use the json translation files to store text content, in French and English, about my projects. With i18n, one can retrieve an [array of translation](https://github.com/vinissimus/next-translate#7-nested-translations) with the option `returnObjects`. I can then generate components for each project by iterating over the translations' array:

```js
import useTranslation from 'next-translate/useTranslation';

const { t } = useTranslation('namespace');
const array = t('key', {}, { returnObjects: true });
```

Don't forget the empty brackets in the middle! They take optional query parameters but should still be present within the input parameters even if empty. It took me hours to figure out that the `t` function was not returning an array of translations for omitting to provide these empty brackets ðŸ¤¯

---

## Conclusion

After this transition, I'm using the following tech stack:

- Next.js
- Tailwind CSS (switched from CSS/Sass)
- i18n (next-translate) library for translations
- Deployed with Vercel

You can browse the code [here](https://github.com/jgautrais/jeremygautrais.fr).
